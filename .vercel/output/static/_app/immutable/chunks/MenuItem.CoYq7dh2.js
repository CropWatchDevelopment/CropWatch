import{s as L,G as w,C,D as W,x as N,e as p,c as x,b as $,f as T,m as H,i as ee,y as B,H as te,z as O,A as j,B as G,p as se,I as le,J as ne,K as oe,E as V,M as F}from"./scheduler.DJbgeZ86.js";import{S as X,i as Y,c as q,a as A,m as J,t as v,b as S,d as K,j as R}from"./index.NvtDNA1J.js";import{D as ae,B as ie,g as ce,h as fe,N as ue}from"./Button.B7o3zPwS.js";import{f as re}from"./focus.D-irkpyK.js";import{c as b,g as U,s as me,d as de}from"./theme.BK28Fqn0.js";import{P as he}from"./Popover.Dt9IO2bq.js";function k(t){const e=t instanceof HTMLElement,l=e?(window==null?void 0:window.getComputedStyle(t).overflowX)??"visible":"unknown",s=e?(window==null?void 0:window.getComputedStyle(t).overflowY)??"visible":"unknown",n=!["visible","hidden"].includes(l)&&t.scrollWidth>t.clientWidth,o=!["visible","hidden"].includes(s)&&t.scrollHeight>t.clientHeight;return n||o?t:t.parentElement?k(t.parentElement):document.body}function be(t){const e=k(t),l=e!=t.offsetParent,s={top:t.offsetTop-(l?(e==null?void 0:e.offsetTop)??0:0),left:t.offsetLeft-(l?(e==null?void 0:e.offsetLeft)??0:0)},n={left:t.clientWidth/2,top:t.clientHeight/2},o={left:e.clientWidth/2,top:e.clientHeight/2};e.scroll({top:s.top+n.top-o.top,left:s.left+n.left-o.left,behavior:"smooth"})}function ge(t){const e=t.getBoundingClientRect(),s=k(t).getBoundingClientRect();return e.top>s.top&&e.bottom<s.bottom}const _e=(t,e)=>{function l(s){const n=typeof(s==null?void 0:s.condition)=="boolean"?s.condition:s==null?void 0:s.condition(t),o=s!=null&&s.onlyIfNeeded?!ge(t):!0;n&&o&&setTimeout(()=>{be(t)},(s==null?void 0:s.delay)??0)}return(e==null?void 0:e.initial)!==!1&&l(e),{update:l}},Ie=t=>({close:t&2097152}),D=t=>({close:t[21]});function Ce(t){let e,l,s,n,o,d,i;const c=t[16].default,r=N(c,t,t[19],D);return{c(){e=p("menu"),r&&r.c(),this.h()},l(f){e=x(f,"MENU",{class:!0});var m=$(e);r&&r.l(m),m.forEach(T),this.h()},h(){H(e,"class",l=b("menu-items outline-none max-h-screen",t[11].menu,t[10].menu))},m(f,m){ee(f,e,m),r&&r.m(e,null),t[17](e),o=!0,d||(i=[B(e,"click",t[12]),B(e,"mouseup",Me),te(s=re.call(null,e,{disabled:!t[9]}))],d=!0)},p(f,m){t=f,r&&r.p&&(!o||m&2621440)&&O(r,c,t,t[19],o?G(c,t[19],m,Ie):j(t[19]),D),(!o||m&1024&&l!==(l=b("menu-items outline-none max-h-screen",t[11].menu,t[10].menu)))&&H(e,"class",l),s&&se(s.update)&&m&512&&s.update.call(null,{disabled:!t[9]})},i(f){o||(v(r,f),f&&le(()=>{o&&(n||(n=R(e,t[7],t[8],!0)),n.run(1))}),o=!0)},o(f){S(r,f),f&&(n||(n=R(e,t[7],t[8],!1)),n.run(0)),o=!1},d(f){f&&T(e),r&&r.d(f),t[17](null),f&&n&&n.end(),d=!1,ne(i)}}}function Pe(t){let e,l;return e=new he({props:{placement:t[4],autoPlacement:t[5],offset:t[2],matchWidth:t[3],resize:t[6],open:t[0],class:b("Menu","bg-surface-100 rounded shadow border overflow-auto",t[11].root,t[10].root,t[13].class),style:t[13].style,$$slots:{default:[Ce,({close:s})=>({21:s}),({close:s})=>s?2097152:0]},$$scope:{ctx:t}}}),e.$on("close",t[18]),{c(){q(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,n){J(e,s,n),l=!0},p(s,[n]){const o={};n&16&&(o.placement=s[4]),n&32&&(o.autoPlacement=s[5]),n&4&&(o.offset=s[2]),n&8&&(o.matchWidth=s[3]),n&64&&(o.resize=s[6]),n&1&&(o.open=s[0]),n&9216&&(o.class=b("Menu","bg-surface-100 rounded shadow border overflow-auto",s[11].root,s[10].root,s[13].class)),n&8192&&(o.style=s[13].style),n&2623234&&(o.$$scope={dirty:n,ctx:s}),e.$set(o)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){S(e.$$.fragment,s),l=!1},d(s){K(e,s)}}}const Me=t=>{t.stopPropagation()};function Ee(t,e,l){let{$$slots:s={},$$scope:n}=e;const o=w();let{open:d=!1}=e,{offset:i=4}=e,{matchWidth:c=!1}=e,{placement:r=c?"bottom-start":"bottom"}=e,{autoPlacement:f=!1}=e,{resize:m=!1}=e,{disableTransition:g=!1}=e,{transition:h=g?(a,z)=>({}):ae}=e,{transitionParams:P={}}=e,{explicitClose:_=!1}=e,{moveFocus:M=!0}=e,{classes:E={}}=e;const u=U("Menu");let{menuItemsEl:I=void 0}=e;function Q(a){try{a.target===I||_||(l(0,d=!1),o("close","item"))}catch(z){console.error(z)}}function Z(a){oe[a?"unshift":"push"](()=>{I=a,l(1,I)})}function y(a){V.call(this,t,a)}return t.$$set=a=>{l(13,e=C(C({},e),W(a))),"open"in a&&l(0,d=a.open),"offset"in a&&l(2,i=a.offset),"matchWidth"in a&&l(3,c=a.matchWidth),"placement"in a&&l(4,r=a.placement),"autoPlacement"in a&&l(5,f=a.autoPlacement),"resize"in a&&l(6,m=a.resize),"disableTransition"in a&&l(14,g=a.disableTransition),"transition"in a&&l(7,h=a.transition),"transitionParams"in a&&l(8,P=a.transitionParams),"explicitClose"in a&&l(15,_=a.explicitClose),"moveFocus"in a&&l(9,M=a.moveFocus),"classes"in a&&l(10,E=a.classes),"menuItemsEl"in a&&l(1,I=a.menuItemsEl),"$$scope"in a&&l(19,n=a.$$scope)},e=W(e),[d,I,i,c,r,f,m,h,P,M,E,u,Q,e,g,_,s,Z,y,n]}class Fe extends X{constructor(e){super(),Y(this,e,Ee,Pe,L,{open:0,offset:2,matchWidth:3,placement:4,autoPlacement:5,resize:6,disableTransition:14,transition:7,transitionParams:8,explicitClose:15,moveFocus:9,classes:10,menuItemsEl:1})}}function Ve(t){let e;const l=t[9].default,s=N(l,t,t[14],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,o){s&&s.m(n,o),e=!0},p(n,o){s&&s.p&&(!e||o&16384)&&O(s,l,n,n[14],e?G(l,n[14],o,null):j(n[14]),null)},i(n){e||(v(s,n),e=!0)},o(n){S(s,n),e=!1},d(n){s&&s.d(n)}}}function We(t){var o,d;let e,l;const s=[{variant:"none"},{icon:t[0]},{classes:t[3]},{fullWidth:!0},{actions:t[10]},{disabled:t[1]},t[6],{class:b("MenuItem","text-left items-center p-2 hover:bg-surface-content/5 rounded duration-75",t[2]&&((o=t[3])==null?void 0:o.selected),t[5].root,(d=t[3])==null?void 0:d.root,t[7].class)}];let n={$$slots:{default:[Ve]},$$scope:{ctx:t}};for(let i=0;i<s.length;i+=1)n=C(n,s[i]);return e=new ie({props:n}),e.$on("click",t[11]),e.$on("mouseover",t[12]),e.$on("mouseout",t[13]),{c(){q(e.$$.fragment)},l(i){A(e.$$.fragment,i)},m(i,c){J(e,i,c),l=!0},p(i,[c]){var f,m;const r=c&255?ce(s,[s[0],c&1&&{icon:i[0]},c&8&&{classes:i[3]},s[3],c&16&&{actions:i[10]},c&2&&{disabled:i[1]},c&64&&fe(i[6]),c&172&&{class:b("MenuItem","text-left items-center p-2 hover:bg-surface-content/5 rounded duration-75",i[2]&&((f=i[3])==null?void 0:f.selected),i[5].root,(m=i[3])==null?void 0:m.root,i[7].class)}]):{};c&16384&&(r.$$scope={dirty:c,ctx:i}),e.$set(r)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){S(e.$$.fragment,i),l=!1},d(i){K(e,i)}}}function ve(t,e,l){const s=["icon","scrollIntoView","disabled","selected","classes"];let n=F(e,s),{$$slots:o={},$$scope:d}=e,{icon:i=void 0}=e,{scrollIntoView:c=!1}=e,{disabled:r=!1}=e,{selected:f=!1}=e,{classes:m={root:"text-sm gap-3",icon:"text-surface-content/50",selected:"font-semibold [:not(.group:hover)>&]:bg-surface-content/5"}}=e;const g=U("MenuItem");let h;ue(void 0),me({...de(),components:{}});const P=u=>[_e(u,h)];function _(u){V.call(this,t,u)}function M(u){V.call(this,t,u)}function E(u){V.call(this,t,u)}return t.$$set=u=>{l(7,e=C(C({},e),W(u))),l(6,n=F(e,s)),"icon"in u&&l(0,i=u.icon),"scrollIntoView"in u&&l(8,c=u.scrollIntoView),"disabled"in u&&l(1,r=u.disabled),"selected"in u&&l(2,f=u.selected),"classes"in u&&l(3,m=u.classes),"$$scope"in u&&l(14,d=u.$$scope)},t.$$.update=()=>{t.$$.dirty&256&&l(4,h=typeof c=="boolean"?{condition:c}:c)},e=W(e),[i,r,f,m,h,g,n,e,c,o,P,_,M,E,d]}class Re extends X{constructor(e){super(),Y(this,e,ve,We,L,{icon:0,scrollIntoView:8,disabled:1,selected:2,classes:3})}}export{Fe as M,Re as a,be as b,_e as s};
