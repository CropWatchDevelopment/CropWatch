import{T as p,s as w,e as _,t as k,a as O,c as E,b as A,d as W,f as v,g as j,l as D,m as N,Q as g,U as T,i as V,h as b,y as C,R as I,j as z,n as R,J as F,V as J}from"./scheduler.DJbgeZ86.js";import{S as P,i as U}from"./index.NvtDNA1J.js";import{g as B}from"./ContrastTheme.svelte_svelte_type_style_lang.alxeTbv9.js";function G(n){return n&&typeof n.subscribe=="function"}function y(n,e=0){console.log(`--- Traverse activated at depth ${e} ---`);const t={};for(const o in n){const s=n[o];if(console.log(`Entering key: ${o} at depth ${e}`),o==="nodes"&&typeof s=="object"&&s.getAll){console.log("nodes prop found!"),console.log("NODES ARRAY: ",s.getAll());const c=s.getAll();t[o]=c,console.log("TRAVERSE CACHE AFTER FINDING NODES PROP:",t),y(c,e+1)}else if(G(s)){console.log(`The current prop, ${s}, is a Svelte store at key: ${o}`);const c=p(s);typeof c=="object"&&c!==null&&(console.log(`Retraversing storeValue at key: ${o}, depth: ${e+1}`),t[o]=y(c,e+1))}else typeof s=="object"?(console.log(`prop ${o} is a regular object at depth ${e}`),t[o]=y(s,e+1)):(console.log(`prop ${o} is a regular value at depth ${e}`),t[o]=s);console.log(`Exiting key: ${o} at depth ${e}`)}return console.log(`--- Traverse complete at depth ${e} ---`),console.log(`Final output at depth ${e}:`,t),t}function K(n,e){return e instanceof DOMRectReadOnly?{x:e.x,y:e.y,width:e.width,height:e.height}:e}function M(n){console.log("graph state object:",n),console.log("nodes object before traverse: ",n.nodes.getAll());const e=y(n);console.log("Nodes after traverse:",e.nodes);const t=JSON.stringify(e,K);return localStorage.setItem("state",t),console.log("raw:",t),t}function q(n){let e,t,o,s=(n[6]===n[0]?n[2]:n[1])+"",c,m,i,h="Save",f,u;return{c(){e=_("div"),t=_("button"),o=_("span"),c=k(s),m=O(),i=_("button"),i.textContent=h,this.h()},l(a){e=E(a,"DIV",{class:!0});var r=A(e);t=E(r,"BUTTON",{class:!0});var S=A(t);o=E(S,"SPAN",{class:!0});var l=A(o);c=W(l,s),l.forEach(v),S.forEach(v),m=j(r),i=E(r,"BUTTON",{class:!0,"data-svelte-h":!0}),D(i)!=="svelte-cli6hc"&&(i.textContent=h),r.forEach(v),this.h()},h(){N(o,"class","material-symbols-outlined svelte-zsgwbh"),N(t,"class","svelte-zsgwbh"),N(i,"class","save-button NW svelte-zsgwbh"),N(e,"class","controls-wrapper svelte-zsgwbh"),g(e,"SW",n[3]==="SW"),g(e,"NE",n[3]==="NE"),g(e,"SE",n[3]==="SE"),g(e,"NW",n[3]==="NW"),T(e,"--prop-theme-toggle-color",n[4]),T(e,"--prop-theme-toggle-text-color",n[5])},m(a,r){V(a,e,r),b(e,t),b(t,o),b(o,c),b(e,m),b(e,i),f||(u=[C(t,"mousedown",I(n[8])),C(t,"touchstart",I(n[8]),{passive:!0}),C(i,"click",n[10])],f=!0)},p(a,[r]){r&71&&s!==(s=(a[6]===a[0]?a[2]:a[1])+"")&&z(c,s),r&8&&g(e,"SW",a[3]==="SW"),r&8&&g(e,"NE",a[3]==="NE"),r&8&&g(e,"SE",a[3]==="SE"),r&8&&g(e,"NW",a[3]==="NW"),r&16&&T(e,"--prop-theme-toggle-color",a[4]),r&32&&T(e,"--prop-theme-toggle-text-color",a[5])},i:R,o:R,d(a){a&&v(e),f=!1,F(u)}}}function H(n,e,t){let{main:o="light"}=e,{alt:s="dark"}=e,{mainIcon:c="light_mode"}=e,{altIcon:m="dark_mode"}=e,{corner:i="NE"}=e,{bgColor:h=null}=e,{iconColor:f=null}=e,u=o;function a(){const l=document.documentElement.getAttribute("svelvet-theme");let d;!l||l===o?d=s:d=o,t(6,u=d),document.documentElement.setAttribute("svelvet-theme",l===o?s:o),localStorage.setItem("currentTheme",d)}J(()=>{const l=localStorage.getItem("currentTheme");l?(document.documentElement.setAttribute("svelvet-theme",l),t(6,u=l)):(document.documentElement.setAttribute("svelvet-theme",o),t(6,u=o))});let r;B.subscribe(l=>{t(7,r=l.get("G-1"))});const S=()=>{M(r)};return n.$$set=l=>{"main"in l&&t(0,o=l.main),"alt"in l&&t(9,s=l.alt),"mainIcon"in l&&t(1,c=l.mainIcon),"altIcon"in l&&t(2,m=l.altIcon),"corner"in l&&t(3,i=l.corner),"bgColor"in l&&t(4,h=l.bgColor),"iconColor"in l&&t(5,f=l.iconColor)},[o,c,m,i,h,f,u,r,a,s,S]}class X extends P{constructor(e){super(),U(this,e,H,q,w,{main:0,alt:9,mainIcon:1,altIcon:2,corner:3,bgColor:4,iconColor:5})}}export{X as default};
