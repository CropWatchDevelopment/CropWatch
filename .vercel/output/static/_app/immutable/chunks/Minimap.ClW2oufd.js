import{s as ie,e as J,c as K,b as Z,f as I,m as M,Q as B,U as u,i as Q,y as Ae,n as P,k as S,V as Pe,P as ee,a as we,g as ye,h as x,a0 as Le,o as G,C as Oe}from"./scheduler.DJbgeZ86.js";import{S as ne,i as re,g as oe,e as te,t as A,b as X,c as Ie,a as ze,m as Me,d as qe}from"./index.NvtDNA1J.js";import{e as v,k as ke,w as Ce,g as Ue,h as je}from"./Button.B7o3zPwS.js";import{c as Ge}from"./ContrastTheme.svelte_svelte_type_style_lang.alxeTbv9.js";function Qe(o){let e,t=`${o[13]}px`,i=`${o[15]}px`,s=`${o[16]}px`,n=`rotate(${o[10]}deg)`,h=`${o[11].y-o[3]}px`,d=`${o[11].x-o[4]}px`,_,p;return{c(){e=J("button"),this.h()},l(f){e=K(f,"BUTTON",{class:!0}),Z(e).forEach(I),this.h()},h(){M(e,"class","minimap-node svelte-1hs9omb"),B(e,"hidden",o[1]),B(e,"hideable",o[6]),u(e,"z-index",o[12]),u(e,"border-radius",t),u(e,"--prop-background-color",o[5]||o[14]||!o[8]&&o[7]||null),u(e,"width",i),u(e,"height",s),u(e,"transform",n),u(e,"top",h),u(e,"left",d)},m(f,m){Q(f,e,m),_||(p=Ae(e,"click",o[25]),_=!0)},p(f,[m]){m&2&&B(e,"hidden",f[1]),m&64&&B(e,"hideable",f[6]),m&4096&&u(e,"z-index",f[12]),m&8192&&t!==(t=`${f[13]}px`)&&u(e,"border-radius",t),m&16800&&u(e,"--prop-background-color",f[5]||f[14]||!f[8]&&f[7]||null),m&32768&&i!==(i=`${f[15]}px`)&&u(e,"width",i),m&65536&&s!==(s=`${f[16]}px`)&&u(e,"height",s),m&1024&&n!==(n=`rotate(${f[10]}deg)`)&&u(e,"transform",n),m&2056&&h!==(h=`${f[11].y-f[3]}px`)&&u(e,"top",h),m&2064&&d!==(d=`${f[11].x-f[4]}px`)&&u(e,"left",d)},i:P,o:P,d(f){f&&I(e),_=!1,p()}}}function Xe(o,e,t){let i,s,n,h,d,_,p,f=P,m=()=>(f(),f=ee(n,g=>t(12,p=g)),n),w,C,E,y;o.$$.on_destroy.push(()=>f());let{node:k}=e,{hidden:H=!1}=e,{toggleHidden:N}=e,{top:c}=e,{left:l}=e,{nodeColor:r=null}=e,{hideable:b}=e;const{position:W,dimensions:D,bgColor:q,borderRadius:z,rotation:R}=k;S(o,W,g=>t(24,_=g)),S(o,q,g=>t(14,C=g)),S(o,z,g=>t(13,w=g)),S(o,R,g=>t(23,d=g));const{width:L,height:T}=D;S(o,L,g=>t(15,E=g)),S(o,T,g=>t(16,y=g));let O=null;Pe(()=>{var g;try{const V=(g=document.querySelector(`#${k.id}`))==null?void 0:g.firstChild;V&&t(7,O=window.getComputedStyle(V).backgroundColor)}catch(V){console.error(V)}});const Y=()=>{b&&N(k)};return o.$$set=g=>{"node"in g&&t(0,k=g.node),"hidden"in g&&t(1,H=g.hidden),"toggleHidden"in g&&t(2,N=g.toggleHidden),"top"in g&&t(3,c=g.top),"left"in g&&t(4,l=g.left),"nodeColor"in g&&t(5,r=g.nodeColor),"hideable"in g&&t(6,b=g.hideable)},o.$$.update=()=>{o.$$.dirty&16777216&&t(11,i=_),o.$$.dirty&8388608&&t(10,s=d),o.$$.dirty&1&&m(t(9,n=k.zIndex)),o.$$.dirty&128&&t(8,h=O==="rgba(0, 0, 0, 0)")},[k,H,N,c,l,r,b,O,h,n,s,i,p,w,C,E,y,W,q,z,R,L,T,d,_,Y]}class Ye extends ne{constructor(e){super(),re(this,e,Xe,Qe,ie,{node:0,hidden:1,toggleHidden:2,top:3,left:4,nodeColor:5,hideable:6})}}function Fe(o){let e,t;return{c(){e=J("div"),this.h()},l(i){e=K(i,"DIV",{class:!0,id:!0,style:!0}),Z(e).forEach(I),this.h()},h(){M(e,"class","mini-bounding-box svelte-aoq4g"),M(e,"id",t=`mini-${o[2]}-bounding-box`),u(e,"border","solid 4px "+o[8]),u(e,"top",`${o[5].y-o[3]}px`),u(e,"left",`${o[5].x-o[4]}px`),u(e,"width",`${o[6]}px`),u(e,"height",`${o[7]}px`),u(e,"background-color",o[8])},m(i,s){Q(i,e,s)},p(i,[s]){s&4&&t!==(t=`mini-${i[2]}-bounding-box`)&&M(e,"id",t),s&256&&u(e,"border","solid 4px "+i[8]);const n=s&256;(s&296||n)&&u(e,"top",`${i[5].y-i[3]}px`),(s&304||n)&&u(e,"left",`${i[5].x-i[4]}px`),(s&320||n)&&u(e,"width",`${i[6]}px`),(s&384||n)&&u(e,"height",`${i[7]}px`),(s&256||n)&&u(e,"background-color",i[8])},i:P,o:P,d(i){i&&I(e)}}}function Je(o,e,t){let i,s=P,n=()=>(s(),s=ee(w,c=>t(5,i=c)),w),h,d,_,p=P,f=()=>(p(),p=ee(C,c=>t(8,_=c)),C);o.$$.on_destroy.push(()=>s()),o.$$.on_destroy.push(()=>p());let{dimensions:m}=e,{position:w}=e;n();let{color:C}=e;f();let{groupName:E}=e,{top:y}=e,{left:k}=e;const{width:H,height:N}=m;return S(o,H,c=>t(6,h=c)),S(o,N,c=>t(7,d=c)),o.$$set=c=>{"dimensions"in c&&t(11,m=c.dimensions),"position"in c&&n(t(0,w=c.position)),"color"in c&&f(t(1,C=c.color)),"groupName"in c&&t(2,E=c.groupName),"top"in c&&t(3,y=c.top),"left"in c&&t(4,k=c.left)},[w,C,E,y,k,i,h,d,_,H,N,m]}class Ke extends ne{constructor(e){super(),re(this,e,Je,Fe,ie,{dimensions:11,position:0,color:1,groupName:2,top:3,left:4})}}function Ne(o,e,t){const i=o.slice();return i[52]=e[t][0],i[53]=e[t][1],i}function Se(o,e,t){const i=o.slice();return i[52]=e[t][0],i[56]=e[t][1],i}function Ee(o){let e,t;return e=new Ye({props:{node:o[56],top:o[11],left:o[10],nodeColor:o[3],hidden:o[13].has(o[56]),toggleHidden:o[24],hideable:o[6]}}),{c(){Ie(e.$$.fragment)},l(i){ze(e.$$.fragment,i)},m(i,s){Me(e,i,s),t=!0},p(i,s){const n={};s[0]&16384&&(n.node=i[56]),s[0]&2048&&(n.top=i[11]),s[0]&1024&&(n.left=i[10]),s[0]&8&&(n.nodeColor=i[3]),s[0]&24576&&(n.hidden=i[13].has(i[56])),s[0]&64&&(n.hideable=i[6]),e.$set(n)},i(i){t||(A(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){qe(e,i)}}}function We(o,e){let t,i,s,n=e[56].id!=="N-editor"&&Ee(e);return{key:o,first:null,c(){t=G(),n&&n.c(),i=G(),this.h()},l(h){t=G(),n&&n.l(h),i=G(),this.h()},h(){this.first=t},m(h,d){Q(h,t,d),n&&n.m(h,d),Q(h,i,d),s=!0},p(h,d){e=h,e[56].id!=="N-editor"?n?(n.p(e,d),d[0]&16384&&A(n,1)):(n=Ee(e),n.c(),A(n,1),n.m(i.parentNode,i)):n&&(oe(),X(n,1,1,()=>{n=null}),te())},i(h){s||(A(n),s=!0)},o(h){X(n),s=!1},d(h){h&&(I(t),I(i)),n&&n.d(h)}}}function He(o,e){let t,i,s;const n=[e[53],{top:e[11]},{left:e[10]},{groupName:e[52]}];let h={};for(let d=0;d<n.length;d+=1)h=Oe(h,n[d]);return i=new Ke({props:h}),{key:o,first:null,c(){t=G(),Ie(i.$$.fragment),this.h()},l(d){t=G(),ze(i.$$.fragment,d),this.h()},h(){this.first=t},m(d,_){Q(d,t,_),Me(i,d,_),s=!0},p(d,_){e=d;const p=_[0]&35840?Ue(n,[_[0]&32768&&je(e[53]),_[0]&2048&&{top:e[11]},_[0]&1024&&{left:e[10]},_[0]&32768&&{groupName:e[52]}]):{};i.$set(p)},i(d){s||(A(i.$$.fragment,d),s=!0)},o(d){X(i.$$.fragment,d),s=!1},d(d){d&&I(t),qe(i,d)}}}function Ze(o){let e,t,i=[],s=new Map,n,h=[],d=new Map,_=`${o[9]}px`,p=`${o[8]}px`,f=`scale(${o[7]})`,m,w,C=`${o[0]}px`,E=`${o[1]?o[1]:o[0]}px`,y,k=v(Array.from(o[14].entries()));const H=l=>l[52];for(let l=0;l<k.length;l+=1){let r=Se(o,k,l),b=H(r);s.set(b,i[l]=We(b,r))}let N=v(Array.from(o[15].entries()));const c=l=>l[52];for(let l=0;l<N.length;l+=1){let r=Ne(o,N,l),b=c(r);d.set(b,h[l]=He(b,r))}return{c(){e=J("div"),t=J("div");for(let l=0;l<i.length;l+=1)i[l].c();n=we();for(let l=0;l<h.length;l+=1)h[l].c();m=we(),w=J("div"),this.h()},l(l){e=K(l,"DIV",{class:!0});var r=Z(e);t=K(r,"DIV",{class:!0});var b=Z(t);for(let W=0;W<i.length;W+=1)i[W].l(b);n=ye(b);for(let W=0;W<h.length;W+=1)h[W].l(b);b.forEach(I),m=ye(r),w=K(r,"DIV",{class:!0,style:!0}),Z(w).forEach(I),r.forEach(I),this.h()},h(){M(t,"class","node-wrapper svelte-1qxvbux"),u(t,"width",_),u(t,"height",p),u(t,"transform",f),M(w,"class","overlay svelte-1qxvbux"),M(w,"style",o[12]),M(e,"class","minimap-wrapper svelte-1qxvbux"),B(e,"SW",o[5]==="SW"),B(e,"NE",o[5]==="NE"),B(e,"SE",o[5]==="SE"),B(e,"NW",o[5]==="NW"),u(e,"width",C),u(e,"height",E),u(e,"--prop-minimap-border-color",o[4]),u(e,"--prop-minimap-background-color",o[2])},m(l,r){Q(l,e,r),x(e,t);for(let b=0;b<i.length;b+=1)i[b]&&i[b].m(t,null);x(t,n);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(t,null);x(e,m),x(e,w),y=!0},p(l,r){r[0]&16804936&&(k=v(Array.from(l[14].entries())),oe(),i=ke(i,r,H,1,l,k,s,t,Ce,We,n,Se),te()),r[0]&35840&&(N=v(Array.from(l[15].entries())),oe(),h=ke(h,r,c,1,l,N,d,t,Ce,He,null,Ne),te()),r[0]&512&&_!==(_=`${l[9]}px`)&&u(t,"width",_),r[0]&256&&p!==(p=`${l[8]}px`)&&u(t,"height",p),r[0]&128&&f!==(f=`scale(${l[7]})`)&&u(t,"transform",f),(!y||r[0]&4096)&&M(w,"style",l[12]),(!y||r[0]&32)&&B(e,"SW",l[5]==="SW"),(!y||r[0]&32)&&B(e,"NE",l[5]==="NE"),(!y||r[0]&32)&&B(e,"SE",l[5]==="SE"),(!y||r[0]&32)&&B(e,"NW",l[5]==="NW"),r[0]&1&&C!==(C=`${l[0]}px`)&&u(e,"width",C),r[0]&3&&E!==(E=`${l[1]?l[1]:l[0]}px`)&&u(e,"height",E),r[0]&16&&u(e,"--prop-minimap-border-color",l[4]),r[0]&4&&u(e,"--prop-minimap-background-color",l[2])},i(l){if(!y){for(let r=0;r<k.length;r+=1)A(i[r]);for(let r=0;r<N.length;r+=1)A(h[r]);y=!0}},o(l){for(let r=0;r<i.length;r+=1)X(i[r]);for(let r=0;r<h.length;r+=1)X(h[r]);y=!1},d(l){l&&I(e);for(let r=0;r<i.length;r+=1)i[r].d();for(let r=0;r<h.length;r+=1)h[r].d()}}}const Be=.9;function xe(o,e,t){let i,s,n,h,d,_,p,f,m,w,C,E,y,k,H,N,c,l,r,b,W,D,q,z,R,L,T,O,Y,g,V,U=Le("graph"),{width:j=100}=e,{height:F=j}=e,{mapColor:le=null}=e,{nodeColor:se=null}=e,{borderColor:he=null}=e,{corner:de="SE"}=e,{hideable:ue=!1}=e;const Re=j*Be,De=F*Be,fe=U.bounds.graphBounds;S(o,fe,a=>t(45,Y=a));const ge=U.nodes;S(o,ge,a=>t(14,g=a));const ae=U.groups;S(o,ae,a=>t(46,O=a));const me=U.transforms,_e=U.dimensions;S(o,_e,a=>t(44,T=a));const $=O.hidden.nodes;S(o,$,a=>t(13,z=a));const ce=me.scale;S(o,ce,a=>t(42,R=a));const be=me.translation;S(o,be,a=>t(43,L=a));const pe=U.groupBoxes;S(o,pe,a=>t(15,V=a));const Te={clientX:0,clientY:0};function Ve(a){z.has(a)?z.delete(a):z.add(a),$.set(z)}return o.$$set=a=>{"width"in a&&t(0,j=a.width),"height"in a&&t(1,F=a.height),"mapColor"in a&&t(2,le=a.mapColor),"nodeColor"in a&&t(3,se=a.nodeColor),"borderColor"in a&&t(4,he=a.borderColor),"corner"in a&&t(5,de=a.corner),"hideable"in a&&t(6,ue=a.hideable)},o.$$.update=()=>{o.$$.dirty[1]&16384&&t(41,i=Y),o.$$.dirty[1]&1024&&t(11,s=i.top),o.$$.dirty[1]&1024&&t(10,n=i.left),o.$$.dirty[1]&1024&&t(40,h=i.right),o.$$.dirty[1]&1024&&t(39,d=i.bottom),o.$$.dirty[1]&8192&&t(38,_=T.width),o.$$.dirty[1]&8192&&t(37,p=T.height),o.$$.dirty[0]&1024|o.$$.dirty[1]&512&&t(9,f=h-n),o.$$.dirty[0]&2048|o.$$.dirty[1]&256&&t(8,m=d-s),o.$$.dirty[0]&768&&t(31,w=f/m),o.$$.dirty[0]&3&&t(30,C=j/F),o.$$.dirty[1]&6336&&t(36,E=Ge(Te,0,0,_,p,R,L)),o.$$.dirty[0]&512|o.$$.dirty[1]&2176&&t(33,y=_/f/R),o.$$.dirty[0]&256|o.$$.dirty[1]&2112&&t(32,k=p/m/R),o.$$.dirty[0]&2304|o.$$.dirty[1]&32&&t(35,H=(E.y-s)/m),o.$$.dirty[0]&1536|o.$$.dirty[1]&32&&t(34,N=(E.x-n)/f),o.$$.dirty[0]&1073741824|o.$$.dirty[1]&1&&t(29,l=w>=C),o.$$.dirty[0]&536871680&&t(7,r=l?Re/f:De/m),o.$$.dirty[0]&384&&t(25,q=m*r),o.$$.dirty[0]&33554434&&t(27,W=(F-q)/2),o.$$.dirty[0]&640&&t(26,D=f*r),o.$$.dirty[0]&67108865&&t(28,b=(j-D)/2),o.$$.dirty[0]&503316480|o.$$.dirty[1]&30&&t(12,c=`
		top: ${W+H*q}px;
		left: ${b+N*D}px;
		width: ${y*D}px;
		height: ${k*q}px;`)},[j,F,le,se,he,de,ue,r,m,f,n,s,c,z,g,V,fe,ge,ae,_e,$,ce,be,pe,Ve,q,D,W,b,l,C,w,k,y,N,H,E,p,_,d,h,i,R,L,T,Y]}class to extends ne{constructor(e){super(),re(this,e,xe,Ze,ie,{width:0,height:1,mapColor:2,nodeColor:3,borderColor:4,corner:5,hideable:6},null,[-1,-1])}}export{to as default};
