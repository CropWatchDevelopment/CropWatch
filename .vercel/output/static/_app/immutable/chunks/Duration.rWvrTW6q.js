import{s as T,e as M,t as _,c as j,b as q,d as z,f as h,m as y,i as A,h as E,j as N,n as g,k as P,C as U,D as b}from"./scheduler.DJbgeZ86.js";import{S as R,i as x}from"./index.NvtDNA1J.js";import{c as S,D as v,g as B,h as F,a as G}from"./theme.BK28Fqn0.js";import{w as C}from"./index.IvLLdXYq.js";function H(i={}){let t=i.initial??null,n=null,l=i.delay??1e3;const a=C(!1),s=C(t,()=>(i.disabled||r(),()=>u()));function r(){u(),n=setInterval(()=>{s.update(d=>{var m;return((m=i.onTick)==null?void 0:m.call(i,d))??new Date})},l),a.set(!0)}function u(){n&&clearInterval(n),n=null,a.set(!1)}function c(){return s.set(t)}function o(){return l}function f(d){u(),l=d,r()}return{...s,start:r,stop:u,reset:c,isRunning:a,getDelay:o,setDelay:f}}function J(i){let t,n,l;return{c(){t=M("span"),n=_(i[0]),this.h()},l(a){t=j(a,"SPAN",{class:!0});var s=q(t);n=z(s,i[0]),s.forEach(h),this.h()},h(){y(t,"class",l=S("Duration",i[1].root,i[3].class))},m(a,s){A(a,t,s),E(t,n)},p(a,[s]){s&1&&N(n,a[0]),s&8&&l!==(l=S("Duration",a[1].root,a[3].class))&&y(t,"class",l)},i:g,o:g,d(a){a&&h(t)}}}function K(i,t,n){let l,a,{start:s=void 0}=t,{end:r=void 0}=t,{duration:u=void 0}=t,{minUnits:c=v.Millisecond}=t,{totalUnits:o=99}=t,{variant:f="short"}=t;const d=B("Duration");function m(){const e=G(s,r??a,u),k=[e.years,e.days,e.hours,e.minutes].filter(I=>I).length;return c<v.Second||k>=o?60*1e3:1e3}const D=H({delay:m(),disabled:r!=null,onTick:()=>{const e=m();e!=D.getDelay()&&D.setDelay(e)}});return P(i,D,e=>n(10,a=e)),i.$$set=e=>{n(3,t=U(U({},t),b(e))),"start"in e&&n(4,s=e.start),"end"in e&&n(5,r=e.end),"duration"in e&&n(6,u=e.duration),"minUnits"in e&&n(7,c=e.minUnits),"totalUnits"in e&&n(8,o=e.totalUnits),"variant"in e&&n(9,f=e.variant)},i.$$.update=()=>{i.$$.dirty&2032&&n(0,l=F({start:s,end:r??a,duration:u,minUnits:c,totalUnits:o,variant:f}))},t=b(t),[l,d,D,t,s,r,u,c,o,f,a]}class W extends R{constructor(t){super(),x(this,t,K,J,T,{start:4,end:5,duration:6,minUnits:7,totalUnits:8,variant:9})}}export{W as D};
